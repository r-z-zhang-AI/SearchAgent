# 小程序开发说明

## 项目状态
✅ 已完成从网站到小程序的转换
✅ 后端API保持不变
✅ 小程序基础功能正常

## 小程序配置文件说明

### app.json - 小程序配置
- `pages`: 页面路径配置
- `window`: 窗口表现配置
- `tabBar`: 底部标签栏配置
- `networkTimeout`: 网络超时配置

### project.config.json - 开发者工具配置
- `appid`: 小程序AppID（需要申请）
- `setting.urlCheck`: 已设置为false，允许开发环境访问localhost

### app.js - 小程序入口
- `globalData.apiBase`: API地址配置
- 提供了通用的API请求方法
- 包含用户信息管理

## 开发环境配置

### 1. 网络域名配置
开发阶段已关闭域名校验（urlCheck: false），可以访问localhost。
生产环境需要在小程序后台配置合法域名。

### 2. API地址配置
- 开发环境: `http://localhost:5000/api`
- 生产环境: 需要修改为实际域名

### 3. 小程序AppID
当前使用测试AppID，正式发布需要申请正式AppID。

## 待完善项目

### 1. 图标文件 🔴
需要创建以下图标文件（81px × 81px）：
- `images/chat.png`
- `images/chat-active.png`
- `images/professor.png`
- `images/professor-active.png`

### 2. 教授列表页面 ⚠️
`pages/professor/professor.js` 目前只有空模板，如需要可以实现：
- 教授列表展示
- 搜索功能
- 详情页跳转

### 3. 生产环境配置
- 申请正式小程序账号
- 配置服务器域名
- 修改API地址为生产环境

## 功能对比

| 功能 | 网站版本 | 小程序版本 | 状态 |
|------|----------|------------|------|
| 聊天界面 | React组件 | 小程序页面 | ✅ 已完成 |
| 教授匹配 | 前端展示 | 小程序展示 | ✅ 已完成 |
| API调用 | Axios | wx.request | ✅ 已完成 |
| 路由导航 | React Router | TabBar | ✅ 已完成 |
| 样式系统 | CSS/Ant Design | WXSS | ✅ 已完成 |

## 测试建议

1. **基础功能测试**
   - 启动后端服务器
   - 在微信开发者工具中运行小程序
   - 测试聊天功能

2. **API连接测试**
   - 确认后端服务正常运行
   - 测试网络请求是否正常
   - 检查控制台是否有错误

3. **界面适配测试**
   - 测试不同屏幕尺寸
   - 检查样式是否正常
   - 验证交互功能

## 部署流程

1. **后端部署**
   - 部署Node.js服务器
   - 配置域名和SSL证书
   - 更新API地址

2. **小程序发布**
   - 申请小程序账号
   - 配置服务器域名白名单
   - 上传代码并提交审核

## 注意事项

- 小程序有严格的域名校验，生产环境必须使用HTTPS
- 需要在小程序后台配置request合法域名
- 图标文件缺失会导致TabBar显示异常
- 开发环境可以使用localhost，生产环境需要实际域名
